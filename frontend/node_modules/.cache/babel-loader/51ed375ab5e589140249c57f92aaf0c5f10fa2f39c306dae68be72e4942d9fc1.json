{"ast":null,"code":"var _jsxFileName = \"D:\\\\DAP_PROJECT\\\\frontend\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useRef, useEffect } from \"react\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction App() {\n  _s();\n  const [text, setText] = useState(\"\");\n  const [predictions, setPredictions] = useState(null);\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const [showDetails, setShowDetails] = useState(false);\n  const [fileError, setFileError] = useState(null);\n  const [isDragging, setIsDragging] = useState(false);\n  const [uploadedFileName, setUploadedFileName] = useState(null);\n  const detailsRef = useRef(null);\n  const fileInputRef = useRef(null);\n  const dropZoneRef = useRef(null);\n  const labels = [\"Toxic\", \"Severe Toxic\", \"Obscene\", \"Threat\", \"Insult\", \"Identity Hate\"];\n  useEffect(() => {\n    if (showDetails && detailsRef.current) {\n      detailsRef.current.scrollIntoView({\n        behavior: 'smooth'\n      });\n    }\n  }, [showDetails]);\n  useEffect(() => {\n    if (predictions) {\n      setShowDetails(false);\n    }\n  }, [predictions]);\n  const parseInputText = text => {\n    return text.split(/[\\n,|]+/).map(t => t.trim()).filter(t => t.length > 0);\n  };\n  const handleClear = () => {\n    setText(\"\");\n    setPredictions(null);\n    setError(null);\n    setFileError(null);\n    setShowDetails(false);\n    setUploadedFileName(null); // Clear the filename\n\n    if (fileInputRef.current) {\n      fileInputRef.current.value = \"\";\n    }\n  };\n  const processFile = async file => {\n    setFileError(null);\n    if (!file) return;\n\n    // Check file type\n    const fileType = file.name.split('.').pop().toLowerCase();\n    if (!['txt', 'csv'].includes(fileType)) {\n      setFileError(\"Please upload only .txt or .csv files\");\n      return;\n    }\n\n    // Check file size (5MB limit)\n    if (file.size > 5 * 1024 * 1024) {\n      setFileError(\"File size should be less than 5MB\");\n      return;\n    }\n    try {\n      const content = await file.text();\n      let processedContent;\n      if (fileType === 'csv') {\n        processedContent = content.split('\\n').map(line => line.replace(/[\"']/g, '').trim()).filter(line => line.length > 0).join('\\n');\n      } else {\n        processedContent = content;\n      }\n      setText(processedContent);\n      setUploadedFileName(file.name); // Store the filename\n    } catch (err) {\n      setFileError(\"Error reading file. Please make sure it's a valid text file.\");\n      console.error(\"File reading error:\", err);\n    }\n  };\n  const handleFileUpload = event => {\n    const file = event.target.files[0];\n    processFile(file);\n  };\n  const handleDragEnter = e => {\n    e.preventDefault();\n    e.stopPropagation();\n    setIsDragging(true);\n  };\n  const handleDragLeave = e => {\n    e.preventDefault();\n    e.stopPropagation();\n\n    // Only set isDragging to false if we're leaving the dropzone\n    const rect = dropZoneRef.current.getBoundingClientRect();\n    if (e.clientX < rect.left || e.clientX >= rect.right || e.clientY < rect.top || e.clientY >= rect.bottom) {\n      setIsDragging(false);\n    }\n  };\n  const handleDragOver = e => {\n    e.preventDefault();\n    e.stopPropagation();\n  };\n  const handleDrop = e => {\n    e.preventDefault();\n    e.stopPropagation();\n    setIsDragging(false);\n    const files = e.dataTransfer.files;\n    if (files.length > 0) {\n      processFile(files[0]);\n    }\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    setIsLoading(true);\n    setError(null);\n    const texts = parseInputText(text);\n    if (texts.length === 0) {\n      setError(\"Please enter at least one comment to analyze\");\n      setIsLoading(false);\n      return;\n    }\n    try {\n      const response = await fetch(\"http://127.0.0.1:8000/predict/\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          texts\n        })\n      });\n      if (!response.ok) {\n        throw new Error(\"Failed to analyze comments\");\n      }\n      const data = await response.json();\n      setPredictions(data.predictions);\n    } catch (error) {\n      setError(error.message);\n      console.error(\"Prediction error:\", error);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n  const calculateStats = () => {\n    if (!predictions || predictions.length === 0) return null;\n    const totalComments = predictions.length;\n    const stats = labels.map((label, idx) => {\n      const count = predictions.filter(p => p.prediction[idx] === 1).length;\n      const percentage = (count / totalComments * 100).toFixed(1);\n      return {\n        label,\n        count,\n        percentage\n      };\n    });\n    return {\n      totalComments,\n      stats\n    };\n  };\n  const stats = calculateStats();\n  const renderForm = () => /*#__PURE__*/_jsxDEV(\"form\", {\n    onSubmit: handleSubmit,\n    className: \"space-y-4\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      ref: dropZoneRef,\n      className: `relative border-2 border-dashed rounded-lg transition-colors ${isDragging ? \"border-blue-500 bg-blue-50\" : \"border-gray-300\"}`,\n      onDragEnter: handleDragEnter,\n      onDragOver: handleDragOver,\n      onDragLeave: handleDragLeave,\n      onDrop: handleDrop,\n      children: [uploadedFileName ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-3\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center gap-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-blue-500\",\n            children: \"\\uD83D\\uDCCE\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 204,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"font-medium\",\n            children: uploadedFileName\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 205,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 203,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 202,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"textarea\", {\n        rows: \"5\",\n        value: text,\n        onChange: e => setText(e.target.value),\n        placeholder: \"Enter one or multiple comments to analyze... You can separate comments using: - New lines - Commas - Pipe symbol (|)\",\n        className: `w-full p-3 rounded-lg focus:ring-2 focus:ring-blue-400 focus:outline-none border-none bg-transparent ${isDragging ? \"pointer-events-none\" : \"\"}`\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 209,\n        columnNumber: 11\n      }, this), isDragging && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"absolute inset-0 flex items-center justify-center bg-blue-50 bg-opacity-90 pointer-events-none\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-blue-500 text-lg font-medium\",\n          children: \"Drop your file here\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 225,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 224,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 191,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center justify-between\",\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-sm text-gray-500\",\n        children: [parseInputText(text).length, \" comment(s) detected\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 230,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"relative\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"file\",\n          ref: fileInputRef,\n          accept: \".txt,.csv\",\n          onChange: handleFileUpload,\n          className: \"hidden\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 234,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          onClick: () => {\n            var _fileInputRef$current;\n            return (_fileInputRef$current = fileInputRef.current) === null || _fileInputRef$current === void 0 ? void 0 : _fileInputRef$current.click();\n          },\n          className: \"px-4 py-2 text-sm bg-gray-100 hover:bg-gray-200 rounded-lg flex items-center\",\n          children: \"\\uD83D\\uDCCE Upload File\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 241,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 233,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 229,\n      columnNumber: 7\n    }, this), fileError && /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"text-sm text-red-600\",\n      children: fileError\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 251,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"space-y-2\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        disabled: isLoading,\n        className: `w-full flex justify-center items-center p-3 rounded-lg text-white font-semibold ${isLoading ? \"bg-blue-300 cursor-not-allowed\" : \"bg-blue-500 hover:bg-blue-600\"}`,\n        children: isLoading ? /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n            className: \"animate-spin h-5 w-5 mr-3 text-white\",\n            xmlns: \"http://www.w3.org/2000/svg\",\n            fill: \"none\",\n            viewBox: \"0 0 24 24\",\n            children: [/*#__PURE__*/_jsxDEV(\"circle\", {\n              className: \"opacity-25\",\n              cx: \"12\",\n              cy: \"12\",\n              r: \"10\",\n              stroke: \"currentColor\",\n              strokeWidth: \"4\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 269,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n              className: \"opacity-75\",\n              fill: \"currentColor\",\n              d: \"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 277,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 263,\n            columnNumber: 15\n          }, this), \"Analyzing...\"]\n        }, void 0, true) : \"Analyze\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 254,\n        columnNumber: 9\n      }, this), predictions && /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"button\",\n        onClick: handleClear,\n        className: \"w-full p-3 rounded-lg text-gray-700 font-semibold bg-gray-200 hover:bg-gray-300\",\n        children: \"Clear\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 290,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 253,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 190,\n    columnNumber: 5\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-gray-100 py-4\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"max-w-6xl mx-auto px-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"text-3xl font-bold text-gray-800 mb-6 text-center\",\n        children: \"\\uD83D\\uDCAC Toxic Comment Detector\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 305,\n        columnNumber: 9\n      }, this), !predictions ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-center\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"w-full max-w-lg\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-white p-6 rounded-2xl shadow-lg\",\n            children: [renderForm(), error && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded-lg mt-4\",\n              children: /*#__PURE__*/_jsxDEV(\"p\", {\n                children: error\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 314,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 313,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 310,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 309,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 308,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-1 md:grid-cols-3 gap-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white p-6 rounded-2xl shadow-lg h-fit\",\n          children: [renderForm(), error && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded-lg mt-4\",\n            children: /*#__PURE__*/_jsxDEV(\"p\", {\n              children: error\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 326,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 325,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 322,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"md:col-span-2 space-y-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-white p-6 rounded-2xl shadow-lg\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex justify-between items-center mb-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n                className: \"text-xl font-semibold text-gray-700\",\n                children: \"\\uD83D\\uDCCA Analysis Summary\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 334,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => setShowDetails(!showDetails),\n                className: \"px-3 py-1 text-sm bg-gray-100 hover:bg-gray-200 rounded-lg\",\n                children: showDetails ? 'Hide Details' : 'Show Details'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 335,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 333,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm text-gray-500 mb-4\",\n              children: [\"Total comments analyzed: \", stats.totalComments]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 342,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"space-y-4\",\n              children: stats.stats.map(stat => /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex justify-between mb-1\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"font-medium\",\n                    children: stat.label\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 349,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text-gray-600\",\n                    children: [stat.count, \" (\", stat.percentage, \"%)\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 350,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 348,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"h-2 bg-gray-200 rounded-full\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"h-2 bg-blue-500 rounded-full\",\n                    style: {\n                      width: `${stat.percentage}%`\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 355,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 354,\n                  columnNumber: 23\n                }, this)]\n              }, stat.label, true, {\n                fileName: _jsxFileName,\n                lineNumber: 347,\n                columnNumber: 21\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 345,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 332,\n            columnNumber: 15\n          }, this), showDetails && /*#__PURE__*/_jsxDEV(\"div\", {\n            ref: detailsRef,\n            className: \"bg-white p-6 rounded-2xl shadow-lg\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"text-xl font-semibold text-gray-700 mb-4\",\n              children: \"\\uD83D\\uDCDD Detailed Results\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 367,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"space-y-4 max-h-[400px] overflow-y-auto pr-2\",\n              children: predictions.map((item, idx) => /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"p-4 border rounded-lg\",\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"font-medium mb-2\",\n                  children: [\"Comment \", idx + 1, \":\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 371,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-gray-600 mb-3\",\n                  children: item.text\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 372,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"grid grid-cols-2 gap-2\",\n                  children: labels.map((label, labelIdx) => /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: `p-2 rounded-lg flex justify-between ${item.prediction[labelIdx] === 1 ? \"bg-red-100 text-red-600\" : \"bg-green-100 text-green-600\"}`,\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      children: label\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 383,\n                      columnNumber: 31\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      children: item.prediction[labelIdx] === 1 ? \"‚ö†Ô∏è\" : \"‚úÖ\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 384,\n                      columnNumber: 31\n                    }, this)]\n                  }, label, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 375,\n                    columnNumber: 29\n                  }, this))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 373,\n                  columnNumber: 25\n                }, this)]\n              }, idx, true, {\n                fileName: _jsxFileName,\n                lineNumber: 370,\n                columnNumber: 23\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 368,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 366,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 331,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 321,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 304,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 303,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"WsBneBQWOtlnzKGtBGciuwhYhss=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useRef","useEffect","jsxDEV","_jsxDEV","Fragment","_Fragment","App","_s","text","setText","predictions","setPredictions","isLoading","setIsLoading","error","setError","showDetails","setShowDetails","fileError","setFileError","isDragging","setIsDragging","uploadedFileName","setUploadedFileName","detailsRef","fileInputRef","dropZoneRef","labels","current","scrollIntoView","behavior","parseInputText","split","map","t","trim","filter","length","handleClear","value","processFile","file","fileType","name","pop","toLowerCase","includes","size","content","processedContent","line","replace","join","err","console","handleFileUpload","event","target","files","handleDragEnter","e","preventDefault","stopPropagation","handleDragLeave","rect","getBoundingClientRect","clientX","left","right","clientY","top","bottom","handleDragOver","handleDrop","dataTransfer","handleSubmit","texts","response","fetch","method","headers","body","JSON","stringify","ok","Error","data","json","message","calculateStats","totalComments","stats","label","idx","count","p","prediction","percentage","toFixed","renderForm","onSubmit","className","children","ref","onDragEnter","onDragOver","onDragLeave","onDrop","fileName","_jsxFileName","lineNumber","columnNumber","rows","onChange","placeholder","type","accept","onClick","_fileInputRef$current","click","disabled","xmlns","fill","viewBox","cx","cy","r","stroke","strokeWidth","d","stat","style","width","item","labelIdx","_c","$RefreshReg$"],"sources":["D:/DAP_PROJECT/frontend/src/App.js"],"sourcesContent":["import React, { useState, useRef, useEffect } from \"react\";\n\nfunction App() {\n  const [text, setText] = useState(\"\");\n  const [predictions, setPredictions] = useState(null);\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const [showDetails, setShowDetails] = useState(false);\n  const [fileError, setFileError] = useState(null);\n  const [isDragging, setIsDragging] = useState(false);\n  const [uploadedFileName, setUploadedFileName] = useState(null);\n\n  const detailsRef = useRef(null);\n  const fileInputRef = useRef(null);\n  const dropZoneRef = useRef(null);\n\n  const labels = [\"Toxic\", \"Severe Toxic\", \"Obscene\", \"Threat\", \"Insult\", \"Identity Hate\"];\n\n  useEffect(() => {\n    if (showDetails && detailsRef.current) {\n      detailsRef.current.scrollIntoView({ behavior: 'smooth' });\n    }\n  }, [showDetails]);\n\n  useEffect(() => {\n    if (predictions) {\n      setShowDetails(false);\n    }\n  }, [predictions]);\n\n  const parseInputText = (text) => {\n    return text\n      .split(/[\\n,|]+/)\n      .map(t => t.trim())\n      .filter(t => t.length > 0);\n  };\n\n  const handleClear = () => {\n    setText(\"\");\n    setPredictions(null);\n    setError(null);\n    setFileError(null);\n    setShowDetails(false);\n    setUploadedFileName(null); // Clear the filename\n\n    if (fileInputRef.current) {\n      fileInputRef.current.value = \"\";\n    }\n  };\n\n  const processFile = async (file) => {\n    setFileError(null);\n    \n    if (!file) return;\n  \n    // Check file type\n    const fileType = file.name.split('.').pop().toLowerCase();\n    if (!['txt', 'csv'].includes(fileType)) {\n      setFileError(\"Please upload only .txt or .csv files\");\n      return;\n    }\n  \n    // Check file size (5MB limit)\n    if (file.size > 5 * 1024 * 1024) {\n      setFileError(\"File size should be less than 5MB\");\n      return;\n    }\n  \n    try {\n      const content = await file.text();\n      let processedContent;\n  \n      if (fileType === 'csv') {\n        processedContent = content\n          .split('\\n')\n          .map(line => line.replace(/[\"']/g, '').trim())\n          .filter(line => line.length > 0)\n          .join('\\n');\n      } else {\n        processedContent = content;\n      }\n  \n      setText(processedContent);\n      setUploadedFileName(file.name); // Store the filename\n    } catch (err) {\n      setFileError(\"Error reading file. Please make sure it's a valid text file.\");\n      console.error(\"File reading error:\", err);\n    }\n  };\n\n  const handleFileUpload = (event) => {\n    const file = event.target.files[0];\n    processFile(file);\n  };\n\n  const handleDragEnter = (e) => {\n    e.preventDefault();\n    e.stopPropagation();\n    setIsDragging(true);\n  };\n\n  const handleDragLeave = (e) => {\n    e.preventDefault();\n    e.stopPropagation();\n    \n    // Only set isDragging to false if we're leaving the dropzone\n    const rect = dropZoneRef.current.getBoundingClientRect();\n    if (\n      e.clientX < rect.left ||\n      e.clientX >= rect.right ||\n      e.clientY < rect.top ||\n      e.clientY >= rect.bottom\n    ) {\n      setIsDragging(false);\n    }\n  };\n\n  const handleDragOver = (e) => {\n    e.preventDefault();\n    e.stopPropagation();\n  };\n\n  const handleDrop = (e) => {\n    e.preventDefault();\n    e.stopPropagation();\n    setIsDragging(false);\n\n    const files = e.dataTransfer.files;\n    if (files.length > 0) {\n      processFile(files[0]);\n    }\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    setIsLoading(true);\n    setError(null);\n    \n    const texts = parseInputText(text);\n    \n    if (texts.length === 0) {\n      setError(\"Please enter at least one comment to analyze\");\n      setIsLoading(false);\n      return;\n    }\n\n    try {\n      const response = await fetch(\"http://127.0.0.1:8000/predict/\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify({ texts }),\n      });\n      \n      if (!response.ok) {\n        throw new Error(\"Failed to analyze comments\");\n      }\n      \n      const data = await response.json();\n      setPredictions(data.predictions);\n    } catch (error) {\n      setError(error.message);\n      console.error(\"Prediction error:\", error);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const calculateStats = () => {\n    if (!predictions || predictions.length === 0) return null;\n\n    const totalComments = predictions.length;\n    const stats = labels.map((label, idx) => {\n      const count = predictions.filter(p => p.prediction[idx] === 1).length;\n      const percentage = ((count / totalComments) * 100).toFixed(1);\n      return {\n        label,\n        count,\n        percentage\n      };\n    });\n\n    return { totalComments, stats };\n  };\n\n  const stats = calculateStats();\n\n  const renderForm = () => (\n    <form onSubmit={handleSubmit} className=\"space-y-4\">\n      <div \n        ref={dropZoneRef}\n        className={`relative border-2 border-dashed rounded-lg transition-colors ${\n          isDragging ? \"border-blue-500 bg-blue-50\" : \"border-gray-300\"\n        }`}\n        onDragEnter={handleDragEnter}\n        onDragOver={handleDragOver}\n        onDragLeave={handleDragLeave}\n        onDrop={handleDrop}\n      >\n        {uploadedFileName ? (\n          <div className=\"p-3\">\n            <div className=\"flex items-center gap-2\">\n              <span className=\"text-blue-500\">üìé</span>\n              <span className=\"font-medium\">{uploadedFileName}</span>\n            </div>\n          </div>\n        ) : (\n          <textarea\n            rows=\"5\"\n            value={text}\n            onChange={(e) => setText(e.target.value)}\n            placeholder=\"Enter one or multiple comments to analyze...\n      You can separate comments using:\n      - New lines\n      - Commas\n      - Pipe symbol (|)\"\n            className={`w-full p-3 rounded-lg focus:ring-2 focus:ring-blue-400 focus:outline-none border-none bg-transparent ${\n              isDragging ? \"pointer-events-none\" : \"\"\n            }`}\n          />\n        )}\n        {isDragging && (\n          <div className=\"absolute inset-0 flex items-center justify-center bg-blue-50 bg-opacity-90 pointer-events-none\">\n            <div className=\"text-blue-500 text-lg font-medium\">Drop your file here</div>\n          </div>\n        )}\n      </div>\n      <div className=\"flex items-center justify-between\">\n        <p className=\"text-sm text-gray-500\">\n          {parseInputText(text).length} comment(s) detected\n        </p>\n        <div className=\"relative\">\n          <input\n            type=\"file\"\n            ref={fileInputRef}\n            accept=\".txt,.csv\"\n            onChange={handleFileUpload}\n            className=\"hidden\"\n          />\n          <button\n            type=\"button\"\n            onClick={() => fileInputRef.current?.click()}\n            className=\"px-4 py-2 text-sm bg-gray-100 hover:bg-gray-200 rounded-lg flex items-center\"\n          >\n            üìé Upload File\n          </button>\n        </div>\n      </div>\n      {fileError && (\n        <p className=\"text-sm text-red-600\">{fileError}</p>\n      )}\n      <div className=\"space-y-2\">\n        <button\n          type=\"submit\"\n          disabled={isLoading}\n          className={`w-full flex justify-center items-center p-3 rounded-lg text-white font-semibold ${\n            isLoading ? \"bg-blue-300 cursor-not-allowed\" : \"bg-blue-500 hover:bg-blue-600\"\n          }`}\n        >\n          {isLoading ? (\n            <>\n              <svg\n                className=\"animate-spin h-5 w-5 mr-3 text-white\"\n                xmlns=\"http://www.w3.org/2000/svg\"\n                fill=\"none\"\n                viewBox=\"0 0 24 24\"\n              >\n                <circle\n                  className=\"opacity-25\"\n                  cx=\"12\"\n                  cy=\"12\"\n                  r=\"10\"\n                  stroke=\"currentColor\"\n                  strokeWidth=\"4\"\n                />\n                <path\n                  className=\"opacity-75\"\n                  fill=\"currentColor\"\n                  d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z\"\n                />\n              </svg>\n              Analyzing...\n            </>\n          ) : (\n            \"Analyze\"\n          )}\n        </button>\n        {predictions && (\n          <button\n            type=\"button\"\n            onClick={handleClear}\n            className=\"w-full p-3 rounded-lg text-gray-700 font-semibold bg-gray-200 hover:bg-gray-300\"\n          >\n            Clear\n          </button>\n        )}\n      </div>\n    </form>\n  );\n\n  return (\n    <div className=\"min-h-screen bg-gray-100 py-4\">\n      <div className=\"max-w-6xl mx-auto px-4\">\n        <h1 className=\"text-3xl font-bold text-gray-800 mb-6 text-center\">üí¨ Toxic Comment Detector</h1>\n        \n        {!predictions ? (\n          <div className=\"flex justify-center\">\n            <div className=\"w-full max-w-lg\">\n              <div className=\"bg-white p-6 rounded-2xl shadow-lg\">\n                {renderForm()}\n                {error && (\n                  <div className=\"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded-lg mt-4\">\n                    <p>{error}</p>\n                  </div>\n                )}\n              </div>\n            </div>\n          </div>\n        ) : (\n          <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n            <div className=\"bg-white p-6 rounded-2xl shadow-lg h-fit\">\n              {renderForm()}\n              {error && (\n                <div className=\"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded-lg mt-4\">\n                  <p>{error}</p>\n                </div>\n              )}\n            </div>\n\n            <div className=\"md:col-span-2 space-y-4\">\n              <div className=\"bg-white p-6 rounded-2xl shadow-lg\">\n                <div className=\"flex justify-between items-center mb-4\">\n                  <h2 className=\"text-xl font-semibold text-gray-700\">üìä Analysis Summary</h2>\n                  <button\n                    onClick={() => setShowDetails(!showDetails)}\n                    className=\"px-3 py-1 text-sm bg-gray-100 hover:bg-gray-200 rounded-lg\"\n                  >\n                    {showDetails ? 'Hide Details' : 'Show Details'}\n                  </button>\n                </div>\n                <p className=\"text-sm text-gray-500 mb-4\">\n                  Total comments analyzed: {stats.totalComments}\n                </p>\n                <div className=\"space-y-4\">\n                  {stats.stats.map((stat) => (\n                    <div key={stat.label}>\n                      <div className=\"flex justify-between mb-1\">\n                        <span className=\"font-medium\">{stat.label}</span>\n                        <span className=\"text-gray-600\">\n                          {stat.count} ({stat.percentage}%)\n                        </span>\n                      </div>\n                      <div className=\"h-2 bg-gray-200 rounded-full\">\n                        <div\n                          className=\"h-2 bg-blue-500 rounded-full\"\n                          style={{ width: `${stat.percentage}%` }}\n                        />\n                      </div>\n                    </div>\n                  ))}\n                </div>\n              </div>\n\n              {showDetails && (\n                <div ref={detailsRef} className=\"bg-white p-6 rounded-2xl shadow-lg\">\n                  <h2 className=\"text-xl font-semibold text-gray-700 mb-4\">üìù Detailed Results</h2>\n                  <div className=\"space-y-4 max-h-[400px] overflow-y-auto pr-2\">\n                    {predictions.map((item, idx) => (\n                      <div key={idx} className=\"p-4 border rounded-lg\">\n                        <p className=\"font-medium mb-2\">Comment {idx + 1}:</p>\n                        <p className=\"text-gray-600 mb-3\">{item.text}</p>\n                        <div className=\"grid grid-cols-2 gap-2\">\n                          {labels.map((label, labelIdx) => (\n                            <div\n                              key={label}\n                              className={`p-2 rounded-lg flex justify-between ${\n                                item.prediction[labelIdx] === 1\n                                  ? \"bg-red-100 text-red-600\"\n                                  : \"bg-green-100 text-green-600\"\n                              }`}\n                            >\n                              <span>{label}</span>\n                              <span>{item.prediction[labelIdx] === 1 ? \"‚ö†Ô∏è\" : \"‚úÖ\"}</span>\n                            </div>\n                          ))}\n                        </div>\n                      </div>\n                    ))}\n                  </div>\n                </div>\n              )}\n            </div>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n\nexport default App;"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,MAAM,EAAEC,SAAS,QAAQ,OAAO;AAAC,SAAAC,MAAA,IAAAC,OAAA,EAAAC,QAAA,IAAAC,SAAA;AAE3D,SAASC,GAAGA,CAAA,EAAG;EAAAC,EAAA;EACb,MAAM,CAACC,IAAI,EAAEC,OAAO,CAAC,GAAGV,QAAQ,CAAC,EAAE,CAAC;EACpC,MAAM,CAACW,WAAW,EAAEC,cAAc,CAAC,GAAGZ,QAAQ,CAAC,IAAI,CAAC;EACpD,MAAM,CAACa,SAAS,EAAEC,YAAY,CAAC,GAAGd,QAAQ,CAAC,KAAK,CAAC;EACjD,MAAM,CAACe,KAAK,EAAEC,QAAQ,CAAC,GAAGhB,QAAQ,CAAC,IAAI,CAAC;EACxC,MAAM,CAACiB,WAAW,EAAEC,cAAc,CAAC,GAAGlB,QAAQ,CAAC,KAAK,CAAC;EACrD,MAAM,CAACmB,SAAS,EAAEC,YAAY,CAAC,GAAGpB,QAAQ,CAAC,IAAI,CAAC;EAChD,MAAM,CAACqB,UAAU,EAAEC,aAAa,CAAC,GAAGtB,QAAQ,CAAC,KAAK,CAAC;EACnD,MAAM,CAACuB,gBAAgB,EAAEC,mBAAmB,CAAC,GAAGxB,QAAQ,CAAC,IAAI,CAAC;EAE9D,MAAMyB,UAAU,GAAGxB,MAAM,CAAC,IAAI,CAAC;EAC/B,MAAMyB,YAAY,GAAGzB,MAAM,CAAC,IAAI,CAAC;EACjC,MAAM0B,WAAW,GAAG1B,MAAM,CAAC,IAAI,CAAC;EAEhC,MAAM2B,MAAM,GAAG,CAAC,OAAO,EAAE,cAAc,EAAE,SAAS,EAAE,QAAQ,EAAE,QAAQ,EAAE,eAAe,CAAC;EAExF1B,SAAS,CAAC,MAAM;IACd,IAAIe,WAAW,IAAIQ,UAAU,CAACI,OAAO,EAAE;MACrCJ,UAAU,CAACI,OAAO,CAACC,cAAc,CAAC;QAAEC,QAAQ,EAAE;MAAS,CAAC,CAAC;IAC3D;EACF,CAAC,EAAE,CAACd,WAAW,CAAC,CAAC;EAEjBf,SAAS,CAAC,MAAM;IACd,IAAIS,WAAW,EAAE;MACfO,cAAc,CAAC,KAAK,CAAC;IACvB;EACF,CAAC,EAAE,CAACP,WAAW,CAAC,CAAC;EAEjB,MAAMqB,cAAc,GAAIvB,IAAI,IAAK;IAC/B,OAAOA,IAAI,CACRwB,KAAK,CAAC,SAAS,CAAC,CAChBC,GAAG,CAACC,CAAC,IAAIA,CAAC,CAACC,IAAI,CAAC,CAAC,CAAC,CAClBC,MAAM,CAACF,CAAC,IAAIA,CAAC,CAACG,MAAM,GAAG,CAAC,CAAC;EAC9B,CAAC;EAED,MAAMC,WAAW,GAAGA,CAAA,KAAM;IACxB7B,OAAO,CAAC,EAAE,CAAC;IACXE,cAAc,CAAC,IAAI,CAAC;IACpBI,QAAQ,CAAC,IAAI,CAAC;IACdI,YAAY,CAAC,IAAI,CAAC;IAClBF,cAAc,CAAC,KAAK,CAAC;IACrBM,mBAAmB,CAAC,IAAI,CAAC,CAAC,CAAC;;IAE3B,IAAIE,YAAY,CAACG,OAAO,EAAE;MACxBH,YAAY,CAACG,OAAO,CAACW,KAAK,GAAG,EAAE;IACjC;EACF,CAAC;EAED,MAAMC,WAAW,GAAG,MAAOC,IAAI,IAAK;IAClCtB,YAAY,CAAC,IAAI,CAAC;IAElB,IAAI,CAACsB,IAAI,EAAE;;IAEX;IACA,MAAMC,QAAQ,GAAGD,IAAI,CAACE,IAAI,CAACX,KAAK,CAAC,GAAG,CAAC,CAACY,GAAG,CAAC,CAAC,CAACC,WAAW,CAAC,CAAC;IACzD,IAAI,CAAC,CAAC,KAAK,EAAE,KAAK,CAAC,CAACC,QAAQ,CAACJ,QAAQ,CAAC,EAAE;MACtCvB,YAAY,CAAC,uCAAuC,CAAC;MACrD;IACF;;IAEA;IACA,IAAIsB,IAAI,CAACM,IAAI,GAAG,CAAC,GAAG,IAAI,GAAG,IAAI,EAAE;MAC/B5B,YAAY,CAAC,mCAAmC,CAAC;MACjD;IACF;IAEA,IAAI;MACF,MAAM6B,OAAO,GAAG,MAAMP,IAAI,CAACjC,IAAI,CAAC,CAAC;MACjC,IAAIyC,gBAAgB;MAEpB,IAAIP,QAAQ,KAAK,KAAK,EAAE;QACtBO,gBAAgB,GAAGD,OAAO,CACvBhB,KAAK,CAAC,IAAI,CAAC,CACXC,GAAG,CAACiB,IAAI,IAAIA,IAAI,CAACC,OAAO,CAAC,OAAO,EAAE,EAAE,CAAC,CAAChB,IAAI,CAAC,CAAC,CAAC,CAC7CC,MAAM,CAACc,IAAI,IAAIA,IAAI,CAACb,MAAM,GAAG,CAAC,CAAC,CAC/Be,IAAI,CAAC,IAAI,CAAC;MACf,CAAC,MAAM;QACLH,gBAAgB,GAAGD,OAAO;MAC5B;MAEAvC,OAAO,CAACwC,gBAAgB,CAAC;MACzB1B,mBAAmB,CAACkB,IAAI,CAACE,IAAI,CAAC,CAAC,CAAC;IAClC,CAAC,CAAC,OAAOU,GAAG,EAAE;MACZlC,YAAY,CAAC,8DAA8D,CAAC;MAC5EmC,OAAO,CAACxC,KAAK,CAAC,qBAAqB,EAAEuC,GAAG,CAAC;IAC3C;EACF,CAAC;EAED,MAAME,gBAAgB,GAAIC,KAAK,IAAK;IAClC,MAAMf,IAAI,GAAGe,KAAK,CAACC,MAAM,CAACC,KAAK,CAAC,CAAC,CAAC;IAClClB,WAAW,CAACC,IAAI,CAAC;EACnB,CAAC;EAED,MAAMkB,eAAe,GAAIC,CAAC,IAAK;IAC7BA,CAAC,CAACC,cAAc,CAAC,CAAC;IAClBD,CAAC,CAACE,eAAe,CAAC,CAAC;IACnBzC,aAAa,CAAC,IAAI,CAAC;EACrB,CAAC;EAED,MAAM0C,eAAe,GAAIH,CAAC,IAAK;IAC7BA,CAAC,CAACC,cAAc,CAAC,CAAC;IAClBD,CAAC,CAACE,eAAe,CAAC,CAAC;;IAEnB;IACA,MAAME,IAAI,GAAGtC,WAAW,CAACE,OAAO,CAACqC,qBAAqB,CAAC,CAAC;IACxD,IACEL,CAAC,CAACM,OAAO,GAAGF,IAAI,CAACG,IAAI,IACrBP,CAAC,CAACM,OAAO,IAAIF,IAAI,CAACI,KAAK,IACvBR,CAAC,CAACS,OAAO,GAAGL,IAAI,CAACM,GAAG,IACpBV,CAAC,CAACS,OAAO,IAAIL,IAAI,CAACO,MAAM,EACxB;MACAlD,aAAa,CAAC,KAAK,CAAC;IACtB;EACF,CAAC;EAED,MAAMmD,cAAc,GAAIZ,CAAC,IAAK;IAC5BA,CAAC,CAACC,cAAc,CAAC,CAAC;IAClBD,CAAC,CAACE,eAAe,CAAC,CAAC;EACrB,CAAC;EAED,MAAMW,UAAU,GAAIb,CAAC,IAAK;IACxBA,CAAC,CAACC,cAAc,CAAC,CAAC;IAClBD,CAAC,CAACE,eAAe,CAAC,CAAC;IACnBzC,aAAa,CAAC,KAAK,CAAC;IAEpB,MAAMqC,KAAK,GAAGE,CAAC,CAACc,YAAY,CAAChB,KAAK;IAClC,IAAIA,KAAK,CAACrB,MAAM,GAAG,CAAC,EAAE;MACpBG,WAAW,CAACkB,KAAK,CAAC,CAAC,CAAC,CAAC;IACvB;EACF,CAAC;EAED,MAAMiB,YAAY,GAAG,MAAOf,CAAC,IAAK;IAChCA,CAAC,CAACC,cAAc,CAAC,CAAC;IAClBhD,YAAY,CAAC,IAAI,CAAC;IAClBE,QAAQ,CAAC,IAAI,CAAC;IAEd,MAAM6D,KAAK,GAAG7C,cAAc,CAACvB,IAAI,CAAC;IAElC,IAAIoE,KAAK,CAACvC,MAAM,KAAK,CAAC,EAAE;MACtBtB,QAAQ,CAAC,8CAA8C,CAAC;MACxDF,YAAY,CAAC,KAAK,CAAC;MACnB;IACF;IAEA,IAAI;MACF,MAAMgE,QAAQ,GAAG,MAAMC,KAAK,CAAC,gCAAgC,EAAE;QAC7DC,MAAM,EAAE,MAAM;QACdC,OAAO,EAAE;UACP,cAAc,EAAE;QAClB,CAAC;QACDC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;UAAEP;QAAM,CAAC;MAChC,CAAC,CAAC;MAEF,IAAI,CAACC,QAAQ,CAACO,EAAE,EAAE;QAChB,MAAM,IAAIC,KAAK,CAAC,4BAA4B,CAAC;MAC/C;MAEA,MAAMC,IAAI,GAAG,MAAMT,QAAQ,CAACU,IAAI,CAAC,CAAC;MAClC5E,cAAc,CAAC2E,IAAI,CAAC5E,WAAW,CAAC;IAClC,CAAC,CAAC,OAAOI,KAAK,EAAE;MACdC,QAAQ,CAACD,KAAK,CAAC0E,OAAO,CAAC;MACvBlC,OAAO,CAACxC,KAAK,CAAC,mBAAmB,EAAEA,KAAK,CAAC;IAC3C,CAAC,SAAS;MACRD,YAAY,CAAC,KAAK,CAAC;IACrB;EACF,CAAC;EAED,MAAM4E,cAAc,GAAGA,CAAA,KAAM;IAC3B,IAAI,CAAC/E,WAAW,IAAIA,WAAW,CAAC2B,MAAM,KAAK,CAAC,EAAE,OAAO,IAAI;IAEzD,MAAMqD,aAAa,GAAGhF,WAAW,CAAC2B,MAAM;IACxC,MAAMsD,KAAK,GAAGhE,MAAM,CAACM,GAAG,CAAC,CAAC2D,KAAK,EAAEC,GAAG,KAAK;MACvC,MAAMC,KAAK,GAAGpF,WAAW,CAAC0B,MAAM,CAAC2D,CAAC,IAAIA,CAAC,CAACC,UAAU,CAACH,GAAG,CAAC,KAAK,CAAC,CAAC,CAACxD,MAAM;MACrE,MAAM4D,UAAU,GAAG,CAAEH,KAAK,GAAGJ,aAAa,GAAI,GAAG,EAAEQ,OAAO,CAAC,CAAC,CAAC;MAC7D,OAAO;QACLN,KAAK;QACLE,KAAK;QACLG;MACF,CAAC;IACH,CAAC,CAAC;IAEF,OAAO;MAAEP,aAAa;MAAEC;IAAM,CAAC;EACjC,CAAC;EAED,MAAMA,KAAK,GAAGF,cAAc,CAAC,CAAC;EAE9B,MAAMU,UAAU,GAAGA,CAAA,kBACjBhG,OAAA;IAAMiG,QAAQ,EAAEzB,YAAa;IAAC0B,SAAS,EAAC,WAAW;IAAAC,QAAA,gBACjDnG,OAAA;MACEoG,GAAG,EAAE7E,WAAY;MACjB2E,SAAS,EAAE,gEACTjF,UAAU,GAAG,4BAA4B,GAAG,iBAAiB,EAC5D;MACHoF,WAAW,EAAE7C,eAAgB;MAC7B8C,UAAU,EAAEjC,cAAe;MAC3BkC,WAAW,EAAE3C,eAAgB;MAC7B4C,MAAM,EAAElC,UAAW;MAAA6B,QAAA,GAElBhF,gBAAgB,gBACfnB,OAAA;QAAKkG,SAAS,EAAC,KAAK;QAAAC,QAAA,eAClBnG,OAAA;UAAKkG,SAAS,EAAC,yBAAyB;UAAAC,QAAA,gBACtCnG,OAAA;YAAMkG,SAAS,EAAC,eAAe;YAAAC,QAAA,EAAC;UAAE;YAAAM,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC,eACzC5G,OAAA;YAAMkG,SAAS,EAAC,aAAa;YAAAC,QAAA,EAAEhF;UAAgB;YAAAsF,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACpD;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC,gBAEN5G,OAAA;QACE6G,IAAI,EAAC,GAAG;QACRzE,KAAK,EAAE/B,IAAK;QACZyG,QAAQ,EAAGrD,CAAC,IAAKnD,OAAO,CAACmD,CAAC,CAACH,MAAM,CAAClB,KAAK,CAAE;QACzC2E,WAAW,EAAC,sHAIA;QACZb,SAAS,EAAE,wGACTjF,UAAU,GAAG,qBAAqB,GAAG,EAAE;MACtC;QAAAwF,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACJ,CACF,EACA3F,UAAU,iBACTjB,OAAA;QAAKkG,SAAS,EAAC,gGAAgG;QAAAC,QAAA,eAC7GnG,OAAA;UAAKkG,SAAS,EAAC,mCAAmC;UAAAC,QAAA,EAAC;QAAmB;UAAAM,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAK;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACzE,CACN;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACE,CAAC,eACN5G,OAAA;MAAKkG,SAAS,EAAC,mCAAmC;MAAAC,QAAA,gBAChDnG,OAAA;QAAGkG,SAAS,EAAC,uBAAuB;QAAAC,QAAA,GACjCvE,cAAc,CAACvB,IAAI,CAAC,CAAC6B,MAAM,EAAC,sBAC/B;MAAA;QAAAuE,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAG,CAAC,eACJ5G,OAAA;QAAKkG,SAAS,EAAC,UAAU;QAAAC,QAAA,gBACvBnG,OAAA;UACEgH,IAAI,EAAC,MAAM;UACXZ,GAAG,EAAE9E,YAAa;UAClB2F,MAAM,EAAC,WAAW;UAClBH,QAAQ,EAAE1D,gBAAiB;UAC3B8C,SAAS,EAAC;QAAQ;UAAAO,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACnB,CAAC,eACF5G,OAAA;UACEgH,IAAI,EAAC,QAAQ;UACbE,OAAO,EAAEA,CAAA;YAAA,IAAAC,qBAAA;YAAA,QAAAA,qBAAA,GAAM7F,YAAY,CAACG,OAAO,cAAA0F,qBAAA,uBAApBA,qBAAA,CAAsBC,KAAK,CAAC,CAAC;UAAA,CAAC;UAC7ClB,SAAS,EAAC,8EAA8E;UAAAC,QAAA,EACzF;QAED;UAAAM,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACN,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC,EACL7F,SAAS,iBACRf,OAAA;MAAGkG,SAAS,EAAC,sBAAsB;MAAAC,QAAA,EAAEpF;IAAS;MAAA0F,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CACnD,eACD5G,OAAA;MAAKkG,SAAS,EAAC,WAAW;MAAAC,QAAA,gBACxBnG,OAAA;QACEgH,IAAI,EAAC,QAAQ;QACbK,QAAQ,EAAE5G,SAAU;QACpByF,SAAS,EAAE,mFACTzF,SAAS,GAAG,gCAAgC,GAAG,+BAA+B,EAC7E;QAAA0F,QAAA,EAEF1F,SAAS,gBACRT,OAAA,CAAAE,SAAA;UAAAiG,QAAA,gBACEnG,OAAA;YACEkG,SAAS,EAAC,sCAAsC;YAChDoB,KAAK,EAAC,4BAA4B;YAClCC,IAAI,EAAC,MAAM;YACXC,OAAO,EAAC,WAAW;YAAArB,QAAA,gBAEnBnG,OAAA;cACEkG,SAAS,EAAC,YAAY;cACtBuB,EAAE,EAAC,IAAI;cACPC,EAAE,EAAC,IAAI;cACPC,CAAC,EAAC,IAAI;cACNC,MAAM,EAAC,cAAc;cACrBC,WAAW,EAAC;YAAG;cAAApB,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAChB,CAAC,eACF5G,OAAA;cACEkG,SAAS,EAAC,YAAY;cACtBqB,IAAI,EAAC,cAAc;cACnBO,CAAC,EAAC;YAA6C;cAAArB,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAChD,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACC,CAAC,gBAER;QAAA,eAAE,CAAC,GAEH;MACD;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACK,CAAC,EACRrG,WAAW,iBACVP,OAAA;QACEgH,IAAI,EAAC,QAAQ;QACbE,OAAO,EAAE/E,WAAY;QACrB+D,SAAS,EAAC,iFAAiF;QAAAC,QAAA,EAC5F;MAED;QAAAM,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CACT;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACE,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACF,CACP;EAED,oBACE5G,OAAA;IAAKkG,SAAS,EAAC,+BAA+B;IAAAC,QAAA,eAC5CnG,OAAA;MAAKkG,SAAS,EAAC,wBAAwB;MAAAC,QAAA,gBACrCnG,OAAA;QAAIkG,SAAS,EAAC,mDAAmD;QAAAC,QAAA,EAAC;MAAyB;QAAAM,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,EAE/F,CAACrG,WAAW,gBACXP,OAAA;QAAKkG,SAAS,EAAC,qBAAqB;QAAAC,QAAA,eAClCnG,OAAA;UAAKkG,SAAS,EAAC,iBAAiB;UAAAC,QAAA,eAC9BnG,OAAA;YAAKkG,SAAS,EAAC,oCAAoC;YAAAC,QAAA,GAChDH,UAAU,CAAC,CAAC,EACZrF,KAAK,iBACJX,OAAA;cAAKkG,SAAS,EAAC,yEAAyE;cAAAC,QAAA,eACtFnG,OAAA;gBAAAmG,QAAA,EAAIxF;cAAK;gBAAA8F,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACX,CACN;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACE;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC,gBAEN5G,OAAA;QAAKkG,SAAS,EAAC,uCAAuC;QAAAC,QAAA,gBACpDnG,OAAA;UAAKkG,SAAS,EAAC,0CAA0C;UAAAC,QAAA,GACtDH,UAAU,CAAC,CAAC,EACZrF,KAAK,iBACJX,OAAA;YAAKkG,SAAS,EAAC,yEAAyE;YAAAC,QAAA,eACtFnG,OAAA;cAAAmG,QAAA,EAAIxF;YAAK;cAAA8F,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACX,CACN;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACE,CAAC,eAEN5G,OAAA;UAAKkG,SAAS,EAAC,yBAAyB;UAAAC,QAAA,gBACtCnG,OAAA;YAAKkG,SAAS,EAAC,oCAAoC;YAAAC,QAAA,gBACjDnG,OAAA;cAAKkG,SAAS,EAAC,wCAAwC;cAAAC,QAAA,gBACrDnG,OAAA;gBAAIkG,SAAS,EAAC,qCAAqC;gBAAAC,QAAA,EAAC;cAAmB;gBAAAM,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI,CAAC,eAC5E5G,OAAA;gBACEkH,OAAO,EAAEA,CAAA,KAAMpG,cAAc,CAAC,CAACD,WAAW,CAAE;gBAC5CqF,SAAS,EAAC,4DAA4D;gBAAAC,QAAA,EAErEtF,WAAW,GAAG,cAAc,GAAG;cAAc;gBAAA4F,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACxC,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACN,CAAC,eACN5G,OAAA;cAAGkG,SAAS,EAAC,4BAA4B;cAAAC,QAAA,GAAC,2BACf,EAACX,KAAK,CAACD,aAAa;YAAA;cAAAkB,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAC5C,CAAC,eACJ5G,OAAA;cAAKkG,SAAS,EAAC,WAAW;cAAAC,QAAA,EACvBX,KAAK,CAACA,KAAK,CAAC1D,GAAG,CAAEiG,IAAI,iBACpB/H,OAAA;gBAAAmG,QAAA,gBACEnG,OAAA;kBAAKkG,SAAS,EAAC,2BAA2B;kBAAAC,QAAA,gBACxCnG,OAAA;oBAAMkG,SAAS,EAAC,aAAa;oBAAAC,QAAA,EAAE4B,IAAI,CAACtC;kBAAK;oBAAAgB,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAO,CAAC,eACjD5G,OAAA;oBAAMkG,SAAS,EAAC,eAAe;oBAAAC,QAAA,GAC5B4B,IAAI,CAACpC,KAAK,EAAC,IAAE,EAACoC,IAAI,CAACjC,UAAU,EAAC,IACjC;kBAAA;oBAAAW,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAM,CAAC;gBAAA;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACJ,CAAC,eACN5G,OAAA;kBAAKkG,SAAS,EAAC,8BAA8B;kBAAAC,QAAA,eAC3CnG,OAAA;oBACEkG,SAAS,EAAC,8BAA8B;oBACxC8B,KAAK,EAAE;sBAAEC,KAAK,EAAE,GAAGF,IAAI,CAACjC,UAAU;oBAAI;kBAAE;oBAAAW,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OACzC;gBAAC;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACC,CAAC;cAAA,GAZEmB,IAAI,CAACtC,KAAK;gBAAAgB,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAaf,CACN;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACC,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACH,CAAC,EAEL/F,WAAW,iBACVb,OAAA;YAAKoG,GAAG,EAAE/E,UAAW;YAAC6E,SAAS,EAAC,oCAAoC;YAAAC,QAAA,gBAClEnG,OAAA;cAAIkG,SAAS,EAAC,0CAA0C;cAAAC,QAAA,EAAC;YAAmB;cAAAM,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,eACjF5G,OAAA;cAAKkG,SAAS,EAAC,8CAA8C;cAAAC,QAAA,EAC1D5F,WAAW,CAACuB,GAAG,CAAC,CAACoG,IAAI,EAAExC,GAAG,kBACzB1F,OAAA;gBAAekG,SAAS,EAAC,uBAAuB;gBAAAC,QAAA,gBAC9CnG,OAAA;kBAAGkG,SAAS,EAAC,kBAAkB;kBAAAC,QAAA,GAAC,UAAQ,EAACT,GAAG,GAAG,CAAC,EAAC,GAAC;gBAAA;kBAAAe,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAG,CAAC,eACtD5G,OAAA;kBAAGkG,SAAS,EAAC,oBAAoB;kBAAAC,QAAA,EAAE+B,IAAI,CAAC7H;gBAAI;kBAAAoG,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAI,CAAC,eACjD5G,OAAA;kBAAKkG,SAAS,EAAC,wBAAwB;kBAAAC,QAAA,EACpC3E,MAAM,CAACM,GAAG,CAAC,CAAC2D,KAAK,EAAE0C,QAAQ,kBAC1BnI,OAAA;oBAEEkG,SAAS,EAAE,uCACTgC,IAAI,CAACrC,UAAU,CAACsC,QAAQ,CAAC,KAAK,CAAC,GAC3B,yBAAyB,GACzB,6BAA6B,EAChC;oBAAAhC,QAAA,gBAEHnG,OAAA;sBAAAmG,QAAA,EAAOV;oBAAK;sBAAAgB,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAO,CAAC,eACpB5G,OAAA;sBAAAmG,QAAA,EAAO+B,IAAI,CAACrC,UAAU,CAACsC,QAAQ,CAAC,KAAK,CAAC,GAAG,IAAI,GAAG;oBAAG;sBAAA1B,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAO,CAAC;kBAAA,GARtDnB,KAAK;oBAAAgB,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OASP,CACN;gBAAC;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACC,CAAC;cAAA,GAjBElB,GAAG;gBAAAe,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAkBR,CACN;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACC,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACH,CACN;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACE,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CACN;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACE;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CAAC;AAEV;AAACxG,EAAA,CA5YQD,GAAG;AAAAiI,EAAA,GAAHjI,GAAG;AA8YZ,eAAeA,GAAG;AAAC,IAAAiI,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}