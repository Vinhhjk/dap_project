{"ast":null,"code":"var _jsxFileName = \"D:\\\\DAP_PROJECT\\\\frontend\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport axios from \"axios\";\n// import { Button } from \"@/components/ui/button\";\nimport { Card, CardContent } from \"@/components/ui/card\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction App() {\n  _s();\n  const [text, setText] = useState(\"\");\n  const [prediction, setPrediction] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [totals, setTotals] = useState(null);\n  const labels = [\"Toxic\", \"Severe Toxic\", \"Obscene\", \"Threat\", \"Insult\", \"Identity Hate\"];\n  const handleFileUpload = e => {\n    const file = e.target.files[0];\n    if (file) {\n      const reader = new FileReader();\n      reader.onload = event => setText(event.target.result);\n      reader.readAsText(file);\n    }\n  };\n  const processInputs = input => {\n    return input.split(/\\n|,|\\|/).map(line => line.trim()).filter(line => line.length > 0);\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    setLoading(true);\n    setPrediction(null);\n    setTotals(null);\n    const inputs = processInputs(text);\n    let totalCounts = Array(labels.length).fill(0);\n    try {\n      const results = await Promise.all(inputs.map(input => axios.post(\"http://127.0.0.1:8000/predict/\", {\n        text: input\n      })));\n      const preds = results.map(res => res.data.prediction);\n      preds.forEach(pred => {\n        pred.forEach((value, idx) => {\n          if (value >= 0.5) totalCounts[idx] += 1;\n        });\n      });\n      setPrediction(preds);\n      setTotals(totalCounts);\n    } catch (error) {\n      console.error(\"Prediction error:\", error);\n    } finally {\n      setLoading(false);\n    }\n  };\n  const handleKeyDown = e => {\n    if (e.key === \"Enter\" && !e.shiftKey) {\n      e.preventDefault();\n      handleSubmit(e);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-gray-100 flex flex-col items-center p-8\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"text-3xl font-bold mb-6 text-center\",\n      children: \"Toxic Comment Detector \\uD83D\\uDCAC\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Card, {\n      className: \"w-full max-w-3xl shadow-2xl p-6\",\n      children: /*#__PURE__*/_jsxDEV(CardContent, {\n        children: [/*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handleSubmit,\n          className: \"space-y-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"textarea\", {\n            rows: \"6\",\n            className: \"w-full border rounded-2xl p-3 text-base\",\n            value: text,\n            onChange: e => setText(e.target.value),\n            onKeyDown: handleKeyDown,\n            placeholder: \"Type comments here or paste multiple separated by commas, newlines, or '|'...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"file\",\n            accept: \".txt\",\n            className: \"block w-full text-sm text-gray-500\",\n            onChange: handleFileUpload\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            className: \"bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 transition\",\n            children: \"Analyze\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 11\n        }, this), totals && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-8 bg-white p-4 rounded-xl shadow\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"text-xl font-semibold mb-4\",\n            children: \"Toxicity Summary\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 108,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n            className: \"grid grid-cols-2 gap-4\",\n            children: labels.map((label, idx) => /*#__PURE__*/_jsxDEV(\"li\", {\n              className: \"text-base\",\n              children: [label, \": \", /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"font-bold\",\n                children: totals[idx]\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 112,\n                columnNumber: 30\n              }, this)]\n            }, idx, true, {\n              fileName: _jsxFileName,\n              lineNumber: 111,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 109,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 77,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"JAIhuzcfWazm+BGF1NQUQbUPrzE=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","axios","Card","CardContent","jsxDEV","_jsxDEV","App","_s","text","setText","prediction","setPrediction","loading","setLoading","totals","setTotals","labels","handleFileUpload","e","file","target","files","reader","FileReader","onload","event","result","readAsText","processInputs","input","split","map","line","trim","filter","length","handleSubmit","preventDefault","inputs","totalCounts","Array","fill","results","Promise","all","post","preds","res","data","forEach","pred","value","idx","error","console","handleKeyDown","key","shiftKey","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","rows","onChange","onKeyDown","placeholder","type","accept","label","_c","$RefreshReg$"],"sources":["D:/DAP_PROJECT/frontend/src/App.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport axios from \"axios\";\n// import { Button } from \"@/components/ui/button\";\nimport { Card, CardContent } from \"@/components/ui/card\";\n\nfunction App() {\n  const [text, setText] = useState(\"\");\n  const [prediction, setPrediction] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [totals, setTotals] = useState(null);\n\n  const labels = [\n    \"Toxic\",\n    \"Severe Toxic\",\n    \"Obscene\",\n    \"Threat\",\n    \"Insult\",\n    \"Identity Hate\",\n  ];\n\n  const handleFileUpload = (e) => {\n    const file = e.target.files[0];\n    if (file) {\n      const reader = new FileReader();\n      reader.onload = (event) => setText(event.target.result);\n      reader.readAsText(file);\n    }\n  };\n\n  const processInputs = (input) => {\n    return input\n      .split(/\\n|,|\\|/)\n      .map((line) => line.trim())\n      .filter((line) => line.length > 0);\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    setLoading(true);\n    setPrediction(null);\n    setTotals(null);\n\n    const inputs = processInputs(text);\n    let totalCounts = Array(labels.length).fill(0);\n\n    try {\n      const results = await Promise.all(\n        inputs.map((input) =>\n          axios.post(\"http://127.0.0.1:8000/predict/\", { text: input })\n        )\n      );\n\n      const preds = results.map((res) => res.data.prediction);\n      preds.forEach((pred) => {\n        pred.forEach((value, idx) => {\n          if (value >= 0.5) totalCounts[idx] += 1;\n        });\n      });\n\n      setPrediction(preds);\n      setTotals(totalCounts);\n    } catch (error) {\n      console.error(\"Prediction error:\", error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleKeyDown = (e) => {\n    if (e.key === \"Enter\" && !e.shiftKey) {\n      e.preventDefault();\n      handleSubmit(e);\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gray-100 flex flex-col items-center p-8\">\n      <h1 className=\"text-3xl font-bold mb-6 text-center\">\n        Toxic Comment Detector ðŸ’¬\n      </h1>\n      <Card className=\"w-full max-w-3xl shadow-2xl p-6\">\n        <CardContent>\n          <form onSubmit={handleSubmit} className=\"space-y-4\">\n            <textarea\n              rows=\"6\"\n              className=\"w-full border rounded-2xl p-3 text-base\"\n              value={text}\n              onChange={(e) => setText(e.target.value)}\n              onKeyDown={handleKeyDown}\n              placeholder=\"Type comments here or paste multiple separated by commas, newlines, or '|'...\"\n            />\n            <input\n              type=\"file\"\n              accept=\".txt\"\n              className=\"block w-full text-sm text-gray-500\"\n              onChange={handleFileUpload}\n            />\n            <button\n              type=\"submit\"\n              className=\"bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 transition\"\n            >\n              Analyze\n            </button>\n          </form>\n\n          {totals && (\n            <div className=\"mt-8 bg-white p-4 rounded-xl shadow\">\n              <h2 className=\"text-xl font-semibold mb-4\">Toxicity Summary</h2>\n              <ul className=\"grid grid-cols-2 gap-4\">\n                {labels.map((label, idx) => (\n                  <li key={idx} className=\"text-base\">\n                    {label}: <span className=\"font-bold\">{totals[idx]}</span>\n                  </li>\n                ))}\n              </ul>\n            </div>\n          )}\n        </CardContent>\n      </Card>\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}